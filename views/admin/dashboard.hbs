<body class="cbp-spmenu-push">
    <script src="../../../../m.servedby-buysellads.com/monetization.js" type="text/javascript"></script>
    <script>
        (function () {
            if (typeof _bsa !== 'undefined' && _bsa) {
                // format, zoneKey, segment:value, options
                _bsa.init('flexbar', 'CKYI627U', 'placement:w3layoutscom');
            }
        })();
    </script>
    <script>
        (function () {
            if (typeof _bsa !== 'undefined' && _bsa) {
                // format, zoneKey, segment:value, options
                _bsa.init('fancybar', 'CKYDL2JN', 'placement:demo');
            }
        })();
    </script>
    <script>
        (function () {
            if (typeof _bsa !== 'undefined' && _bsa) {
                // format, zoneKey, segment:value, options
                _bsa.init('stickybox', 'CKYI653J', 'placement:w3layoutscom');
            }
        })();
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src='https://www.googletagmanager.com/gtag/js?id=UA-149859901-1'></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-149859901-1');
    </script>

    <script>
        window.ga = window.ga || function () { (ga.q = ga.q || []).push(arguments) }; ga.l = +new Date;
        ga('create', 'UA-149859901-1', 'demo.w3layouts.com');
        ga('require', 'eventTracker');
        ga('require', 'outboundLinkTracker');
        ga('require', 'urlChangeTracker');
        ga('send', 'pageview');
    </script>
    <script async src='../../../js/autotrack.js'></script>

    <meta name="robots" content="noindex">


    <link rel="stylesheet" href="../../../assests/css/font-awesome.min.css">
    <!-- New toolbar-->
    <style>
        * {
            box-sizing: border-box;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen-Sans, Ubuntu, Cantarell, "Helvetica Neue", sans-serif;
        }


        #w3lDemoBar.w3l-demo-bar {
            top: 0;
            right: 0;
            bottom: 0;
            z-index: 9999;
            padding: 40px 5px;
            padding-top: 70px;
            margin-bottom: 70px;
            background: #0D1326;
            border-top-left-radius: 9px;
            border-bottom-left-radius: 9px;
        }

        #w3lDemoBar.w3l-demo-bar a {
            display: block;
            color: #e6ebff;
            text-decoration: none;
            line-height: 24px;
            opacity: .6;
            margin-bottom: 20px;
            text-align: center;
        }

        #w3lDemoBar.w3l-demo-bar span.w3l-icon {
            display: block;
        }

        #w3lDemoBar.w3l-demo-bar a:hover {
            opacity: 1;
        }

        #w3lDemoBar.w3l-demo-bar .w3l-icon svg {
            color: #e6ebff;
        }

        #w3lDemoBar.w3l-demo-bar .responsive-icons {
            margin-top: 30px;
            border-top: 1px solid #41414d;
            padding-top: 40px;
        }

        #w3lDemoBar.w3l-demo-bar .demo-btns {
            border-top: 1px solid #41414d;
            padding-top: 30px;
        }

        #w3lDemoBar.w3l-demo-bar .responsive-icons a span.fa {
            font-size: 26px;
        }

        #w3lDemoBar.w3l-demo-bar .no-margin-bottom {
            margin-bottom: 0;
        }

        .toggle-right-sidebar span {
            background: #0D1326;
            width: 50px;
            height: 50px;
            line-height: 50px;
            text-align: center;
            color: #e6ebff;
            border-radius: 50px;
            font-size: 26px;
            cursor: pointer;
            opacity: .5;
        }

        .pull-right {
            float: right;
            position: fixed;
            right: 0px;
            top: 70px;
            width: 90px;
            z-index: 99999;
            text-align: center;
        }

        /* ============================================================
RIGHT SIDEBAR SECTION
============================================================ */

        #right-sidebar {
            width: 90px;
            position: fixed;
            height: 100%;
            z-index: 1000;
            right: 0px;
            top: 0;
            margin-top: 60px;
            -webkit-transition: all .5s ease-in-out;
            -moz-transition: all .5s ease-in-out;
            -o-transition: all .5s ease-in-out;
            transition: all .5s ease-in-out;
            overflow-y: auto;
        }


        /* ============================================================
RIGHT SIDEBAR TOGGLE SECTION
============================================================ */

        .hide-right-bar-notifications {
            margin-right: -300px !important;
            -webkit-transition: all .3s ease-in-out;
            -moz-transition: all .3s ease-in-out;
            -o-transition: all .3s ease-in-out;
            transition: all .3s ease-in-out;
        }



        @media (max-width: 992px) {
            #w3lDemoBar.w3l-demo-bar a.desktop-mode {
                display: none;

            }
        }

        @media (max-width: 767px) {
            #w3lDemoBar.w3l-demo-bar a.tablet-mode {
                display: none;

            }
        }

        @media (max-width: 568px) {
            #w3lDemoBar.w3l-demo-bar a.mobile-mode {
                display: none;
            }

            #w3lDemoBar.w3l-demo-bar .responsive-icons {
                margin-top: 0px;
                border-top: none;
                padding-top: 0px;
            }

            #right-sidebar,
            .pull-right {
                width: 90px;
            }

            #w3lDemoBar.w3l-demo-bar .no-margin-bottom-mobile {
                margin-bottom: 0;
            }
        }
    </style>



    <div class="main-content">
        <!-- main content start-->
        {{#each totalUsers}}
        <span style="display: none;" class="totalUsers"></span>
        {{/each}}
        {{#each totalTheaters}}
        <span style="display: none;" class="totalTheaters"></span>
        {{/each}}
        {{#each totalMovies}}
        <span style="display: none;" class="totalMovies"></span>
        {{/each}}
        <div id="page-wrapper">
            <div class="main-page charts-page">
                <!---728x90--->
                <div style="display: flex;flex-direction: row; justify-content: space-between;">
                    <div
                        style="width:250px; height: 70px; border-radius: 4px; color: white; background: rgba(218, 72, 5, 0.679); margin-right: 20px; display: flex; justify-content: center; align-items: center ;">
                        <h5>Total Users</h5> &nbsp;&nbsp;
                        <h3 id="total-users"></h3>
                    </div>
                    <div
                        style="width:250px; height: 70px; border-radius: 4px; color: white; background: rgba(8, 100, 42, 0.679); margin-right: 20px; display: flex; justify-content: center; align-items: center ;">
                        <h5>Total Theaters</h5> &nbsp;&nbsp;
                        <h3 id="total-theaters"></h3>
                    </div>
                    <div
                        style="width:250px; height: 70px; border-radius: 4px; color: white; background: rgba(117, 11, 91, 0.679); margin-right: 20px; display: flex; justify-content: center; align-items: center ;">
                        <h5>all movies</h5> &nbsp;&nbsp;
                        <h3 id="total-movies"> </h3>
                    </div>
                </div>

                <div class="charts">
                    <!---728x90--->
                    <div class="col-md-6 charts chrt-page-grids">
                        <div style="width: 400px; height: 350px;">
                            <h3>booking </h3>
                            <canvas id="myChart"
                                style=" background-color: white; border-radius: 6px; box-shadow: 0px 0px 10px 1px #c7c6c6"></canvas>
                        </div>
                        {{!-- <h4 class="title">Booking <span> <span
                                    style="font-size: 13px; color: rgba(233, 78, 2, 0.83);">success</span><span
                                    style="font-size: 13px; color: rgba(79, 82, 186, 0.83);"> cancel</span></span></h4>
                        <canvas id="bar" height="300" width="400" style="width: 400px; height: 300px;"></canvas> --}}
                    </div>
                    <div class="col-md-6 charts chrt-page-grids chrt-right">
                        <div style="display: flex;">
                            <h4 style="color: rgba(218, 72, 5, 0.679);" class="title">user</h4>&nbsp;&nbsp;
                            <h4 style="color: rgba(8, 100, 42, 0.679);" class="title">theater</h4>&nbsp;&nbsp;
                            <h4 style="color: rgba(117, 11, 91, 0.679);" class="title">movies</h4>
                        </div>
                        <div class="pie-grid">
                            <canvas id="pie" height="300" width="400" style="width: 400px; height: 300px;"></canvas>
                        </div>
                    </div>
                    <div class="clearfix"> </div>
                    {{#each totalBooking}}
                    {{#if this.bookingCancelled}}
                    <span class="booking-cancel"></span>
                    {{else}}
                        <input type="text" class="upcoming-booking" value="{{this.date}}">
                    {{/if}}
                    {{/each}}
                    <script>
                        var totalMovies = document.getElementsByClassName('totalMovies')
                        document.getElementById('total-movies').innerHTML = totalMovies.length
                        var totalTheaters = document.getElementsByClassName('totalTheaters')
                        document.getElementById('total-theaters').innerHTML = totalTheaters.length
                        var totalUsers = document.getElementsByClassName('totalUsers')
                        document.getElementById('total-users').innerHTML = totalUsers.length
                        var cancelBooking = document.getElementsByClassName('booking-cancel')
                        var upcomingBooking = document.getElementsByClassName('upcoming-booking')
                            var dtToday = new Date();
                            var month = dtToday.getMonth() + 1;
                            var day = dtToday.getDate();
                            var year = dtToday.getFullYear();
                            if (month < 10)
                                month = '0' + month.toString();
                            if (day < 10)
                                day = '0' + day.toString();
                            var minDate = year + '-' + month + '-' + day;
                            var upcomingBookingCount = 0
                            var expiredBooking = 0
                            var todayBooking = 0
                            for(var i = 0 ; i<upcomingBooking.length;i++){
                                 bookedDate =   document.getElementsByClassName('upcoming-booking')[i].value
                                 if(bookedDate>minDate){
                                     upcomingBookingCount = upcomingBookingCount+1
                                 }
                                 if(bookedDate<minDate){
                                     expiredBooking = expiredBooking+1
                                 }
                                  if(bookedDate==minDate){
                                     todayBooking = todayBooking+1
                                 }
                            }

                        var pieData = [
                            {
                                value: totalMovies.length,
                                color: "rgba(117, 11, 91, 0.679)"
                            },
                            {
                                value: totalTheaters.length,
                                color: "rgba(8, 100, 42, 0.679)"
                            },
                            {
                                value: totalUsers.length,
                                color: "#e94e02"
                            }

                        ];
                        var barChartData = {
                            labels: ["January", "February", "March", "April", "May", "June", "July"],
                            datasets: [
                                {
                                    fillColor: "rgba(233, 78, 2, 0.83)",
                                    strokeColor: "#ef553a",
                                    highlightFill: "#ef553a",
                                    data: [65, 59, 90, 81, 56, 55, 40]
                                },
                                {
                                    fillColor: "rgba(79, 82, 186, 0.83)",
                                    strokeColor: "#4F52BA",
                                    highlightFill: "#4F52BA",
                                    data: [50, 65, 60, 50, 70, 70, 80]
                                }
                            ]
                        };
                        // new Chart(document.getElementById("bar").getContext("2d")).Bar(barChartData);
                        new Chart(document.getElementById("pie").getContext("2d")).Pie(pieData);
                    </script>
                </div>
            </div>
        </div>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.4.1/dist/chart.min.js"></script>
    <script>

        var ctx = document.getElementById('myChart').getContext('2d');
        var myChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Today bookings', 'Expired bookings', 'Upcoming bookings', 'cancelled booking',],
                // , 'Orange'
                datasets: [{
                    label: ' Placed',
                    data: [todayBooking, expiredBooking, upcomingBookingCount, cancelBooking.length],
                    // 3
                    backgroundColor: [
                        'rgba(255, 99, 132, 0.2)',
                        'rgba(54, 162, 235, 0.2)',
                        'rgba(255, 206, 86, 0.2)',
                        'rgba(75, 192, 192, 0.2)',
                        
                    ],
                    borderColor: [
                        'rgba(255, 99, 132, 1)',
                        'rgba(54, 162, 235, 1)',
                        'rgba(255, 206, 86, 1)',
                        'rgba(75, 192, 192, 1)',
                        
                    ],
                    borderWidth: 1
                }]
            },
            options: {
              //  animations: {
              //      tension: {
              //          duration: 1000,
              //          easing: 'linear',
              //          from: 1,
              //          to: 0,
              //          loop: true
              //      }
              //  },
                scales: {
                    y: {
                        beginAtZero: true
                    }
                },

            }
        });
    </script>